<svg width="600" height="400" xmlns="http://www.w3.org/2000/svg">
  <!-- Background -->
  <rect width="600" height="400" fill="#2d2d2d"/>
  
  <!-- Title -->
  <text x="300" y="30" font-family="Arial" font-size="18" fill="#ffffff" text-anchor="middle">Real Estate Investment Analysis System - Architecture</text>
  
  <!-- Data Sources Box -->
  <rect x="50" y="60" width="120" height="80" rx="10" ry="10" fill="#4a4a4a" stroke="#8a8a8a" stroke-width="2"/>
  <text x="110" y="95" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle">Data Sources</text>
  <text x="110" y="115" font-family="Arial" font-size="10" fill="#ffffff" text-anchor="middle">Idealista.com</text>
  <text x="110" y="130" font-family="Arial" font-size="10" fill="#ffffff" text-anchor="middle">Fotocasa.es</text>
  
  <!-- Scraper Box -->
  <rect x="230" y="60" width="120" height="80" rx="10" ry="10" fill="#4a4a4a" stroke="#8a8a8a" stroke-width="2"/>
  <text x="290" y="95" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle">Scrapy Spiders</text>
  <text x="290" y="115" font-family="Arial" font-size="10" fill="#ffffff" text-anchor="middle">Anti-Detection</text>
  <text x="290" y="130" font-family="Arial" font-size="10" fill="#ffffff" text-anchor="middle">Property Extraction</text>
  
  <!-- MongoDB Box -->
  <rect x="230" y="180" width="120" height="60" rx="10" ry="10" fill="#4a4a4a" stroke="#8a8a8a" stroke-width="2"/>
  <text x="290" y="210" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle">MongoDB</text>
  <text x="290" y="225" font-family="Arial" font-size="10" fill="#ffffff" text-anchor="middle">Property Data</text>
  
  <!-- PostgreSQL Box -->
  <rect x="230" y="250" width="120" height="60" rx="10" ry="10" fill="#4a4a4a" stroke="#8a8a8a" stroke-width="2"/>
  <text x="290" y="280" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle">PostgreSQL</text>
  <text x="290" y="295" font-family="Arial" font-size="10" fill="#ffffff" text-anchor="middle">Fallback Storage</text>
  
  <!-- Flask API Box -->
  <rect x="410" y="180" width="120" height="80" rx="10" ry="10" fill="#4a4a4a" stroke="#8a8a8a" stroke-width="2"/>
  <text x="470" y="210" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle">Flask API</text>
  <text x="470" y="230" font-family="Arial" font-size="10" fill="#ffffff" text-anchor="middle">Property Service</text>
  <text x="470" y="245" font-family="Arial" font-size="10" fill="#ffffff" text-anchor="middle">Analysis Service</text>
  
  <!-- Java Frontend Box -->
  <rect x="410" y="60" width="120" height="80" rx="10" ry="10" fill="#4a4a4a" stroke="#8a8a8a" stroke-width="2"/>
  <text x="470" y="95" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle">Java Frontend</text>
  <text x="470" y="115" font-family="Arial" font-size="10" fill="#ffffff" text-anchor="middle">PrimeFaces UI</text>
  <text x="470" y="130" font-family="Arial" font-size="10" fill="#ffffff" text-anchor="middle">Interactive Maps</text>
  
  <!-- ML Analysis Box -->
  <rect x="230" y="320" width="120" height="60" rx="10" ry="10" fill="#4a4a4a" stroke="#8a8a8a" stroke-width="2"/>
  <text x="290" y="345" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle">ML Analysis</text>
  <text x="290" y="360" font-family="Arial" font-size="10" fill="#ffffff" text-anchor="middle">Investment Scoring</text>
  
  <!-- Arrows -->
  <!-- Data Source to Scraper -->
  <line x1="170" y1="100" x2="230" y2="100" stroke="#ffffff" stroke-width="2"/>
  <polygon points="230,100 220,95 220,105" fill="#ffffff"/>
  
  <!-- Scraper to MongoDB -->
  <line x1="290" y1="140" x2="290" y2="180" stroke="#ffffff" stroke-width="2"/>
  <polygon points="290,180 285,170 295,170" fill="#ffffff"/>
  
  <!-- MongoDB to Flask API -->
  <line x1="350" y1="210" x2="410" y2="210" stroke="#ffffff" stroke-width="2"/>
  <polygon points="410,210 400,205 400,215" fill="#ffffff"/>
  
  <!-- PostgreSQL to Flask API -->
  <line x1="350" y1="280" x2="390" y2="260" stroke="#ffffff" stroke-width="2"/>
  <polygon points="390,260 380,258 382,268" fill="#ffffff"/>
  
  <!-- Flask API to Java Frontend -->
  <line x1="470" y1="180" x2="470" y2="140" stroke="#ffffff" stroke-width="2"/>
  <polygon points="470,140 465,150 475,150" fill="#ffffff"/>
  
  <!-- ML Analysis to Flask API -->
  <line x1="350" y1="340" x2="430" y2="260" stroke="#ffffff" stroke-width="2"/>
  <polygon points="430,260 420,262 425,270" fill="#ffffff"/>
</svg>
